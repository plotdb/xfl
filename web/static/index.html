<!DOCTYPE html><html><head><meta charset="utf-8"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="http://plotdb.github.io/xfl/assets/img/thumbnail.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:title" content="XL Font Load / 大尺寸字型載入器"><meta property="og:type" content="article"><meta property="og:url" content="http://plotdb.github.io/xfl/"><meta property="og:description" content="這個專案實作了一個快速中文字型載入模組，將字型檔依字頻切成小塊，再根據網頁內容選擇需要載入的字型子集"><meta property="article:author" content="zbryikt"><meta property="article:section" content="Taiwan"><meta name="keywords" content="webfont,font loader,cjk"><link rel="stylesheet" type="text/css" href="assets/lib/bootstrap/main/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/bootstrap.ldui/main/bootstrap.ldui.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/ldloader/main/ldld.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/ldbutton/main/ldbtn.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/@loadingio/loading.css/main/loading.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/ldcover/main/ldcv.min.css"><link rel="stylesheet" type="text/css" href="css/index.css"></head><body><div id="root"><div class="ldcv"><div class="base" style="max-width:90%;width:640px;height:480px;max-height:90%"><div class="inner"><div class="w-100 h-100 d-flex flex-column"><div class="flex-grow-1 position-relative p-4"><div class="w-100 h-100 ld ld-over-inverse"><div class="ld ld-ring ld-cycle"></div><svg class="w-100 h-100 border rounded shadow-sm"><defs><linearGradient id="lg" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#f00"></stop><stop offset="25%" stop-color="#f90"></stop><stop offset="50%" stop-color="#9f0"></stop><stop offset="75%" stop-color="#0f9"></stop><stop offset="100%" stop-color="#09f"></stop></linearGradient></defs><path fill="url(#lg)"></path></svg></div></div><div class="d-flex justify-content-end px-4 pb-4"><div class="btn btn-outline-dark" data-ldcv-set="">Close</div></div></div></div></div></div><h1><span><span class="text-danger">X</span>L <span class="text-danger">F</span>ont <span class="text-danger">L</span>oad / </span><ruby><rb>大尺寸</rb><rt>中日韓</rt></ruby><span>字型載入器</span></h1><hr><div class="d-flex" id="chooser"><div class="btn-group mb-2 mr-2"><div class="btn btn-outline-dark" data-font="NaikaiFont-Regular">內海字體</div><div class="btn btn-outline-dark" data-font="NotoSerifCJKtc-Regular">思源宋體</div><div class="btn btn-outline-dark" data-font="TaipeiSansTCBeta-Regular">台北黑體</div><div class="btn btn-outline-dark" data-font="cjk手寫4">cjk手寫4</div><div class="btn btn-outline-dark" data-font="openhuninn-1.1">粉圓體</div><div class="btn btn-outline-dark" data-font="RampartOne-Regular">Rampart</div></div><div class="dropdown" style="display:inline-block;vertical-align:top"><div class="btn btn-outline-dark dropdown-toggle" data-toggle="dropdown">More</div><div class="dropdown-menu shadow-sm" style="max-height:400px;overflow:scroll;overscroll-behavior:contain"><div class="dropdown-header text-underline">Fontworks</div><a class="dropdown-item d-flex align-items-center" href="#" data-font="DotGothic16-Regular"><div class="flex-grow-1">DotGothic16</div><small class="text-muted ml-2">8231字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="KleeOne-SemiBold"><div class="flex-grow-1">KleeOne / SemiBold</div><small class="text-muted ml-2">10178字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="KleeOne-Regular"><div class="flex-grow-1">KleeOne</div><small class="text-muted ml-2">10178字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="Stick-Regular"><div class="flex-grow-1">Stick</div><small class="text-muted ml-2">8231字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="ReggaeOne-Regular"><div class="flex-grow-1">ReggaeOne</div><small class="text-muted ml-2">8231字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="RampartOne-Regular"><div class="flex-grow-1">RampartOne</div><small class="text-muted ml-2">8231字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="RocknRollOne-Regular"><div class="flex-grow-1">RocknRollOne</div><small class="text-muted ml-2">8230字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="TrainOne-Regular"><div class="flex-grow-1">TrainOne</div><small class="text-muted ml-2">4356字</small></a><div class="dropdown-divider"></div><div class="dropdown-header text-underline">Google x Adobe</div><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSerifCJKtc-ExtraLight"><div class="flex-grow-1">思源宋體 / 極細</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSerifCJKtc-Light"><div class="flex-grow-1">思源宋體 / 細</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSerifCJKtc-Regular"><div class="flex-grow-1">思源宋體</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSerifCJKtc-Medium"><div class="flex-grow-1">思源宋體 / 適中</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSerifCJKtc-SemiBold"><div class="flex-grow-1">思源宋體 / 次粗</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSerifCJKtc-Bold"><div class="flex-grow-1">思源宋體 / 粗</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSerifCJKtc-Black"><div class="flex-grow-1">思源宋體 / 濃</div><small class="text-muted ml-2">43029字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSansCJKtc-ExtraLight"><div class="flex-grow-1">思源黑體 / 極細</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSansCJKtc-Light"><div class="flex-grow-1">思源黑體 / 細</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSansCJKtc-Regular"><div class="flex-grow-1">思源黑體</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSansCJKtc-Medium"><div class="flex-grow-1">思源黑體 / 適中</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSansCJKtc-SemiBold"><div class="flex-grow-1">思源黑體 / 次粗</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSansCJKtc-Bold"><div class="flex-grow-1">思源黑體 / 粗</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSansCJKtc-Black"><div class="flex-grow-1">思源黑體 / 濃</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSansMonoCJKtc-Regular"><div class="flex-grow-1">思源等寬</div><small class="text-muted ml-2">65535字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NotoSansMonoCJKtc-Bold"><div class="flex-grow-1">思源等寬 / 粗</div><small class="text-muted ml-2">65535字</small></a><div class="dropdown-divider"></div><div class="dropdown-header text-underline">cjkFonts x 清松手寫體</div><a class="dropdown-item d-flex align-items-center" href="#" data-font="cjk手寫4"><div class="flex-grow-1">cjk手寫4</div><small class="text-muted ml-2">12201字</small></a><div class="dropdown-divider"></div><div class="dropdown-header text-underline">justfont</div><a class="dropdown-item d-flex align-items-center" href="#" data-font="openhuninn-1.1"><div class="flex-grow-1">粉圓體</div><small class="text-muted ml-2">9676字</small></a><div class="dropdown-divider"></div><div class="dropdown-header text-underline">flopdesign</div><a class="dropdown-item d-flex align-items-center" href="#" data-font="SoukouMincho"><div class="flex-grow-1">裝甲明朝</div><small class="text-muted ml-2">9803字</small></a><div class="dropdown-divider"></div><div class="dropdown-header text-underline">翰字鑄造JT Foundry</div><a class="dropdown-item d-flex align-items-center" href="#" data-font="TaipeiSansTCBeta-Bold"><div class="flex-grow-1">台北黑體 / 粗</div><small class="text-muted ml-2">32732字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="TaipeiSansTCBeta-Regular"><div class="flex-grow-1">台北黑體</div><small class="text-muted ml-2">32731字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="TaipeiSansTCBeta-Light"><div class="flex-grow-1">台北黑體 / 細</div><small class="text-muted ml-2">32762字</small></a><div class="dropdown-divider"></div><div class="dropdown-header text-underline">GlyphWiki</div><a class="dropdown-item d-flex align-items-center" href="#" data-font="HanaminA"><div class="flex-grow-1">花園明朝A</div><small class="text-muted ml-2">41494字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="HanaminB"><div class="flex-grow-1">花園明朝B</div><small class="text-muted ml-2">60418字</small></a><div class="dropdown-divider"></div><div class="dropdown-header text-underline">瀨戶家族 x Max</div><a class="dropdown-item d-flex align-items-center" href="#" data-font="NaikaiFont-Bold"><div class="flex-grow-1">內海字體 / 粗</div><small class="text-muted ml-2">46817字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NaikaiFont-SemiBold"><div class="flex-grow-1">內海字體 / 次粗</div><small class="text-muted ml-2">46817字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NaikaiFont-Regular"><div class="flex-grow-1">內海字體</div><small class="text-muted ml-2">46819字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NaikaiFont-Light"><div class="flex-grow-1">內海字體 / 細</div><small class="text-muted ml-2">46817字</small></a><a class="dropdown-item d-flex align-items-center" href="#" data-font="NaikaiFont-ExtraLight"><div class="flex-grow-1">內海字體 / 極細</div><small class="text-muted ml-2">46817字</small></a><div class="dropdown-divider"></div><div class="dropdown-header">以下空白</div></div></div><div class="flex-grow-1 text-right"><div class="btn btn-outline-dark" data-target="svg">輸出 SVG</div></div></div><textarea class="form-control" rows="7" placeholder="在這邊隨便輸入一些中文字看看吧..."></textarea><br><br><h2>這是什麼？</h2><p>中文字型向來動輒數MB 甚至數十MB，若要做為網路字型使用往往很卡。其它解決方案大多是商業付費服務，而且針對動態內容，要嘛做不好，亦或成本很高。</p><p>針對這個問題，<span class="text-danger">X</span>L <span class="text-danger">F</span>ont <span class="text-danger">L</span>oad = <code>@plotdb/xfl</code> 實作了：</p><ul><li>中文字型切割工具</li><li>中文字型載入模組</li></ul><p>先使用切割工具將字型依字頻切成小塊後，再使用載入器根據網頁內容選擇需要載入的字型子集，因此我們可以快速的選取想要的字型，套用在網站上。切割過後的字型亦可搭配 <code>opentype.js</code> 於前、後端進行字型組合。</p><p>另一方面，此專案亦收集了下列等以 <code>SIL Open Font License 1.1</code> 釋出的免費、可商用開放中文字型，包含黑、宋、圓、手寫、風格等類型的字體，亦提供預先切割好的字型模組，可直接分支使用，不需再花時間自行搜集處理。</p><p>以下為目前我們整理的字型列表，含不同樣式共 37 個字型檔：</p><ul><li>思源黑體 / 思源宋體 / 思源等寬 - 約六萬餘字</li><li>花園明朝 - 約四萬 ~ 六萬字</li><li>內海字體 ( 瀨戶、小瀨、全瀨整合版 ) - 約四萬餘字</li><li>台北黑體 ( Beta 版 ) - 約三萬餘字</li><li>裝甲明朝 ( 思源宋體之變體 ) - 約一萬五千字</li><li>cjk手寫4 ( 清松手寫4 的 AI 補完版 ) - 約一萬字</li><li>粉圓體 ( justfont 基於 Kosugi Maru 的改良版 ) - 約一萬字</li><li>Fontworks 系列 ( 日文字型 ) - 約五千 ~ 一萬字</li></ul><br><h3>我可以整理自己的中文字型集嗎？</h3><p>可以！此專案連同編譯程式碼一同釋出，可自動編譯切割指定之字型檔。</p><br><h2>我要怎麼取得跟使用？</h2><p>此專案託管於 <a href="https://github.com/plotdb/xfl">Github 專案庫</a> ，你可以造訪該網址並利用 Git 分支，或者直接下載整包模組。</p><p>你亦可使用 <code>npm</code>：</p><pre class="code">npm install --save @plotdb/xfl
npx xfl -o [out-dir] [font-dir] # 字型切割工具</pre><p>前端字型載入器則引入 <code>dist/xfl.js</code> 後使用：</p><pre class="code">&lt;script src="path-to/xfl.js"&gt;&lt;/script&gt;
&lt;script&gt;
  xfl.load({path: "path-to/xl-font-folder"})
    .then(function(font) {
      font.sync("給定一些文字，xfl 就會幫你抓對應的字型檔");
    });
&lt;/script&gt;</pre><p>詳細的文件請參照 <a href="https://github.com/plotdb/xfl/blob/master/README.md">Github 專案庫中的 README.md 文件</a>。</p><br><h3>與 justfont 或其它的網路字型服務比較？</h3><p>網路字型服務一般有兩個重點：</p><ul><li>自有字型</li><li>網頁字型服務</li></ul><p>自有字型不用說，大部份字型服務提供者的商業核心還是在其高品質的自有字型，這是字型工具無法提供的。而在網頁字型服務這點，因為 <code>@plotdb/xfl</code> 套件缺乏動態後端組字機制，嚴格來說也無法取代動態生成式的網路字型服務。況且，一旦牽涉到後端組字，就算是自幹也會有主機跟流量的成本，因此除非有大量需求來攤平成本，否則使用這類服務的性價比一般還是會比自幹高。</p><p>什麼時候會有大量需求的情境？比方說，若我們開發用戶可以自選字型的網頁編輯工具，用戶的每一個 keystroke 都可能導致一次 API Call ，但網頁字型服務往往就是以 API 呼叫次數做計費基準，我們又不太可能限制用戶打字的次數，這種情境下使用以次計價的服務就顯得不太實際。</p><p>此外靜態字型子集較動態生成的字型檔來說在快取上較有優勢。若預期字型檔不會頻繁更新，可以設定較長的快取週期，並可搭配 Cloudflare 等 CDN 服務，可以獲得更快速的內容發送以及更少的流量負擔。</p><br><h3>換字型會閃 / 打字會閃 / 載入還是很久 / 字型有缺字</h3><p>以靜態方式實作網路字型仍然受限於瀏覽器技術，但若有任何問題，都可以在 <a href="https://github.com/plotdb/xfl/issues">Github Issues</a> 中提出。</p><br><hr><div id="footer"><div>source code copyrighted <a href="https://twitter.com/zbryikt">@zbryikt</a> released under MIT License</div><div>source in <a href="https://github.com/plotdb/xfl">Github Repo</a> / font files in <a href="https://github.com/plotdb/xl-fontset">Another Github Repo</a></div></div><script type="text/javascript" src="assets/lib/bootstrap.native/main/bootstrap-native-v4.min.js"></script><script type="text/javascript" src="assets/lib/@loadingio/ldquery/main/ldq.min.js"></script><script type="text/javascript" src="assets/lib/ldcover/main/ldcv.min.js"></script><script type="text/javascript" src="assets/lib/ldloader/main/ldld.min.js"></script><script type="text/javascript" src="assets/lib/proxise/main/proxise.min.js"></script><script type="text/javascript" src="assets/lib/@plotdb/opentype.js/main/opentype.js"></script><script type="text/javascript" src="assets/lib/@plotdb/xfl/dev/xfl.js"></script><script type="text/javascript" src="js/index.js"></script></div></body></html>